if(typeof(obiprp.PromptComponents.BasicTextField)=="undefined"){obiprp.PromptComponents.BasicTextField=function(e,g,k,b,d,i,j,h,c,f){this.id=g;this.name=e;this.value=k;this.origDisplayValue=k;this.origCodeValue=b;this.isEnabled=d;this.isReadOnly=i;this.isPassword=j;this.button=h;this.bShowUnspecifiedAsEmpty=true;if(c){this.td=c}else{this.td=obiprp.PromptComponents.BasicControls.createComponentTD(f);this.td.style.textAlign=(saw.isRToL()?"right":"left");this.td.id=this.id}this.mainSpan=document.createElement("span");this.field=this.createBasicTextField(this.name,this.id+obiprp.PromptComponents.DATAELEMENT_ID,this.value,this.isEnabled,this.isReadOnly,this.isPassword);this.mainSpan.appendChild(this.field);this.catchInputFieldEvents();if(this.button){var a=this.button.getElement();if(saw.isRToL()){a.style.marginRight="1px"}else{a.style.marginLeft="1px"}a.style.marginBottom="1px";this.mainSpan.appendChild(a)}this.addVPAT();this.td.appendChild(this.mainSpan)};obiprp.PromptComponents.BasicTextField.prototype.setCustomStyle=function(a){this.sFontStyle=a;if(this.sFontStyle){this.mainSpan.style.cssText=a;this.field.style.cssText=a}};obiprp.PromptComponents.BasicTextField.prototype.setAnnouncementText=function(a){};obiprp.PromptComponents.BasicTextField.prototype.getDefaultWidthCSS=function(){return"promptEditBoxFieldWidth"};obiprp.PromptComponents.BasicTextField.prototype.getElement=function(){return this.td};obiprp.PromptComponents.BasicTextField.prototype._setSpecialValue=function(a){if(this.bShowUnspecifiedAsEmpty&&obips.DropDownDoubleValue.isReservedUnspecifiedValue(a.getCode())){a.setDisplay("")}if(this.isEnterByCodeColumn()&&obips.DropDownDoubleValue.isReservedNullValue(a.getCode())){a.setCode(obiprp.PromptComponents.Utilities.getLocalizedString("kmsgPromptRunTimeDropdownNullChoices"))}return a};obiprp.PromptComponents.BasicTextField.prototype.setValue=function(d){var b=((d&&typeof(d.length)!="undefined"&&d.length!=null)?true:false);if(d instanceof Array){if(d.length>0){this.value=d[0]}else{this.value=new obiprp.PromptComponents.PromptValue(obiprp.PromptComponents.Utilities.getLocalizedString("kmsgPromptRunTimeDropDownUnspecified"),obips.DropDownDoubleValue.ksDropDownUnspecified,obiprp.PromptComponents.PromptValue.TYPE.DOUBLE_VALUE)}}else{this.value=d}var c=this._setSpecialValue(clone(this.value));var a;if(this.isEnterByCodeColumn()&&!obips.DropDownDoubleValue.isReservedKeyValueButNull(c.getCode())){a=c.getCode()}else{a=c.getDisplay()}this.field.value=this.field.title=a};obiprp.PromptComponents.BasicTextField.prototype._getSpecialValue=function(){var a=this.field.value;if(!a&&this.bShowUnspecifiedAsEmpty){if(this.id!="choiceListSearchString"){a=obiprp.PromptComponents.Utilities.getLocalizedString("kmsgPromptRunTimeDropDownUnspecified")}return new obiprp.PromptComponents.PromptValue(a,obips.DropDownDoubleValue.ksDropDownUnspecified,obiprp.PromptComponents.PromptValue.TYPE.DOUBLE_VALUE)}else{if(obips.DropDownDoubleValue.isReservedAllColumnValue(a)){return new obiprp.PromptComponents.PromptValue(obiprp.PromptComponents.Utilities.getLocalizedString("kmsgPromptRunTimeDropdownAllChoices"),obips.DropDownDoubleValue.ksDropDownAllChoices,obiprp.PromptComponents.PromptValue.TYPE.DOUBLE_VALUE)}else{if(obips.DropDownDoubleValue.isReservedNullValue(a)){return new obiprp.PromptComponents.PromptValue(obiprp.PromptComponents.Utilities.getLocalizedString("kmsgPromptRunTimeDropdownNullChoices"),obips.DropDownDoubleValue.ksDropDownNull,obiprp.PromptComponents.PromptValue.TYPE.DOUBLE_VALUE)}}}return null};obiprp.PromptComponents.BasicTextField.prototype.getValue=function(){var b=new Array();var a=null;if(a=this._getSpecialValue()){this.value=a}else{if(this.isEnterByCodeColumn()){this.value=new obiprp.PromptComponents.PromptValue(null,this.field.value,obiprp.PromptComponents.PromptValue.TYPE.DOUBLE_VALUE)}else{this.value=new obiprp.PromptComponents.PromptValue(this.field.value,null,obiprp.PromptComponents.PromptValue.TYPE.DOUBLE_VALUE)}}this.field.title=this.field.value;b.push(this.value);return b};obiprp.PromptComponents.BasicTextField.prototype.setIsEnabled=function(a){this.isEnabled=a;this.field.disabled=!this.isEnabled};obiprp.PromptComponents.BasicTextField.prototype.isEnabled=function(){this.isEnabled=!this.field.disabled;return this.isEnabled};obiprp.PromptComponents.BasicTextField.prototype.setIsReadOnly=function(a){if(this.isReadOnly!=a){this.isReadOnly=a;this.field.readOnly=this.isReadOnly;if(this.isReadOnly){obips.CSS.addClassToElement(this.field,"promptEditBoxFieldReadOnly")}else{obips.CSS.removeClassFromElement(this.field,"promptEditBoxFieldReadOnly")}}};obiprp.PromptComponents.BasicTextField.prototype.isReadOnly=function(){this.isReadOnly=this.field.readOnly;return this.isReadOnly};obiprp.PromptComponents.BasicTextField.prototype.createBasicTextField=function(f,b,g,e,a,c){var d=document.createElement("input");d.type=(c)?"password":"text";d.className="promptEditBoxField";d.name=f;d.id=b;d.value=g;if(!e){d.disabled="true";obips.CSS.addClassToElement(d,"promptEditBoxFieldDisabled")}if(a){d.readOnly="true";obips.CSS.addClassToElement(d,"promptEditBoxFieldReadOnly");obips.CSS.addClassToElement(d,"promptEditBoxFieldReadOnlyBorder")}obips.CSS.addClassToElement(d,this.getDefaultWidthCSS());return d};obiprp.PromptComponents.BasicTextField.prototype.attachDoubleColumnControl=function(a){this.oCodeColumnCheckBox=a;this.oCodeColumnCheckBox.installOnClickCallBack(new obips.Callback(this,this.onChangeDoubleColumnInputType))};obiprp.PromptComponents.BasicTextField.prototype.onChangeDoubleColumnInputType=function(b){var a=0;var d=0;var c=0};obiprp.PromptComponents.BasicTextField.prototype.isEnterByCodeColumn=function(){return(this.oCodeColumnCheckBox&&this.oCodeColumnCheckBox.isChecked())?true:false};obiprp.PromptComponents.BasicTextField.prototype.getDoubleColumnCheckBoxFormatString=function(){return obiprp.PromptComponents.Utilities.getPromptResource("kmsgPromptRunTimeDoubleColumnEnterByColumnNameFormatStr").getString()};obiprp.PromptComponents.BasicTextField.prototype.attachPromptDefinition=function(a){};obiprp.PromptComponents.BasicTextField.prototype.shouldUseTopAlignOnOperatorText=function(){return false};obiprp.PromptComponents.BasicTextField.prototype.additionalDisplayInitialization=function(f,c){if(!c){return}var a=c;if(this.button){var b=0;var e=this.button.getElement();if(e){if(saw.userAgent.is_ie8up||saw.userAgent.is_nav){var d=e.alt;e.alt=saw.userAgent.is_ie?"":"tmp";b=e.offsetWidth;e.alt=d}else{b=e.offsetWidth}}a=obiprp.PromptComponents.Utilities.transformValueToInteger(c,0)-b;if(a<0){a=0}}this.field.style.width=a+"px"};obiprp.PromptComponents.BasicTextField.prototype.addVPAT=function(){if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){this._createScreenReaderLabel();this._addWaiAriaRoles()}if(obips.TabStop.isSupportWaiAriaOnSimpleControls()){this.field.tabIndex=0;if(this.button){this.button.getElement().tabIndex=0}}};obiprp.PromptComponents.BasicTextField.prototype._getWaiAriaRoleTraits=function(){return["application","textbox","button"]};obiprp.PromptComponents.BasicTextField.prototype._addWaiAriaRoles=function(){var a=this._getWaiAriaRoleTraits();obips.TabStop.setWaiAriaAttrs([["role",a[1]]],this.field);if(this.button){obips.TabStop.setWaiAriaAttrs([["role",a[2]]],this.button.getElement());this._setWaiAriaButtonAttributes(false,null)}};obiprp.PromptComponents.BasicTextField.prototype._setWaiAriaButtonAttributes=function(a,b){if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){if(this.button){var c=[["aria-pressed",a?"true":"false"],["aria-expanded",a?"true":"false"],["aria-owns",b?b:null]];obips.TabStop.setWaiAriaAttrs(c,this.button.getElement())}}};obiprp.PromptComponents.BasicTextField.prototype._createScreenReaderLabel=function(){var a=this.mainSpan.ownerDocument;this.JAWSAnnouncementDiv=a.createElement("div");this.JAWSAnnouncementDiv.style.width="0px";this.JAWSAnnouncementDiv.style.height="0px";this.JAWSAnnouncementDiv.style.overflow="hidden";this.JAWSAnnouncementLabel=a.createElement("label");this.JAWSAnnouncementLabel.id=this.id+"_aria_label";this.JAWSAnnouncementDiv.appendChild(this.JAWSAnnouncementLabel);this.JAWSAnnouncementOperator=a.createElement("label");this.JAWSAnnouncementOperator.id=this.id+"_aria_operator";this.JAWSAnnouncementDiv.appendChild(this.JAWSAnnouncementOperator);this.JAWSAnnouncementControlNumber=a.createElement("label");this.JAWSAnnouncementControlNumber.id=this.id+"_aria_control_num";this.JAWSAnnouncementDiv.appendChild(this.JAWSAnnouncementControlNumber);this.JAWSAnnouncementDescription=a.createElement("label");this.JAWSAnnouncementDescription.id=this.id+"_aria_description";this.JAWSAnnouncementDiv.appendChild(this.JAWSAnnouncementDescription);this.JAWSAnnouncementSelectByCode=a.createElement("label");this.JAWSAnnouncementSelectByCode.id=this.id+"_aria_selectbycode";this.JAWSAnnouncementDiv.appendChild(this.JAWSAnnouncementSelectByCode);this.mainSpan.appendChild(this.JAWSAnnouncementDiv)};obiprp.PromptComponents.BasicTextField.prototype.attachLabelInfo=function(e,c,d,b,a){this.setScreenReaderIsRequiredPromptLabel(e);this.setScreenReaderLabel(c);this.setScreenReaderOperatorLabel(b);this.setScreenReaderControlNumberLabel(a);this.setScreenReaderDescription(d)};obiprp.PromptComponents.BasicTextField.prototype.setScreenReaderIsRequiredPromptLabel=function(b){if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){var a=[["aria-required",(b?"true":"false")]];obips.TabStop.setWaiAriaAttrs(a,this.field);if(this.button){obips.TabStop.setWaiAriaAttrs(a,this.button.getElement())}}};obiprp.PromptComponents.BasicTextField.prototype.setScreenReaderOperatorLabel=function(a){if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){if(a!=null&&a!=""){saw.setInnerText(this.JAWSAnnouncementOperator,a);var b=[["aria-labelledby",this.id+"_aria_operator",true]];obips.TabStop.setWaiAriaAttrs(b,this.field);if(this.button){obips.TabStop.setWaiAriaAttrs(b,this.button.getElement())}}}};obiprp.PromptComponents.BasicTextField.prototype.setScreenReaderControlNumberLabel=function(c){if(c!=null){if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){var a="";if(c==1){a=obiprp.PromptComponents.Utilities.getPromptResource("kmsgPromptRunTimeJAWSControlOne").getString()}else{if(c==2){a=obiprp.PromptComponents.Utilities.getPromptResource("kmsgPromptRunTimeJAWSControlTwo").getString()}}saw.setInnerText(this.JAWSAnnouncementControlNumber,a);var b=[["aria-labelledby",this.id+"_aria_control_num",true]];obips.TabStop.setWaiAriaAttrs(b,this.field);if(this.button){obips.TabStop.setWaiAriaAttrs(b,this.button.getElement())}}}};obiprp.PromptComponents.BasicTextField.prototype.setScreenReaderLabel=function(a){if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){saw.setInnerText(this.JAWSAnnouncementLabel,a);var b=[["aria-labelledby",this.id+"_aria_label",true]];obips.TabStop.setWaiAriaAttrs(b,this.field);if(this.button){obips.TabStop.setWaiAriaAttrs(b,this.button.getElement())}}};obiprp.PromptComponents.BasicTextField.prototype.setScreenReaderDescription=function(a){if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){if(a!=null&&a!=""){saw.setInnerText(this.JAWSAnnouncementDescription,a);var b=[["aria-describedby",this.id+"_aria_description",true]];obips.TabStop.setWaiAriaAttrs(b,this.field);if(this.button){obips.TabStop.setWaiAriaAttrs(b,this.button.getElement())}}}};obiprp.PromptComponents.BasicTextField.prototype.catchInputFieldEvents=function(){var a=new obips.BrowserEventFramework.EventRouter(this.field,"onchange");a.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this.onChange)));this.editFieldTabStop=new obips.SimpleEnterKeyTabStop(this.field,new obips.Callback(this,this.onEnterKeyPressed))};obiprp.PromptComponents.BasicTextField.prototype.onChange=function(a){this.handleOnValueChanged()};obiprp.PromptComponents.BasicTextField.prototype.installOnValueChangedHandler=function(a){this.oOnValueChangedCallBack=a};obiprp.PromptComponents.BasicTextField.prototype.installOnEnterKeyPressedHandler=function(a){this.oOnEnterKeyPressedCallBack=a};obiprp.PromptComponents.BasicTextField.prototype.destroyObject=function(){var a=0};obiprp.PromptComponents.BasicTextField.prototype.handleOnValueChanged=function(){if(this.oOnValueChangedCallBack&&saw.isElementAttachToDocumentBody(this.mainSpan)){var a=this.oOnValueChangedCallBack;a.functionPointer.call(a.thisContext)}return false};obiprp.PromptComponents.BasicTextField.prototype.onEnterKeyPressed=function(){if(this.oOnEnterKeyPressedCallBack){var a=this.oOnEnterKeyPressedCallBack;a.functionPointer.call(a.thisContext)}return false}};