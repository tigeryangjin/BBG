--在192.168.2.228的SQL Server上创建用户bbg，密码：bbg
--创建登陆帐户（create login）
create login bbg with password='bbg', default_database=zktime8;
--为登陆账户创建数据库用户（create user）,在mydb数据库中的security中的user下可以找到新创建的dba
create user bbg for login bbg with default_schema=dbo;
--通过加入数据库角色，赋予数据库用户“db_owner”权限
exec sp_addrolemember 'db_owner', 'bbg';

USE ZKTIME8
--KSL
SELECT * FROM CHECKINOUT WHERE PIN='0007673081' ORDER BY CHECKTIME DESC;
--YJ
SELECT * FROM CHECKINOUT WHERE PIN='0006320835' ORDER BY CHECKTIME DESC;
--FJK
SELECT * FROM CHECKINOUT WHERE PIN='0001990676' ORDER BY CHECKTIME DESC;
--DRQ
SELECT * FROM CHECKINOUT WHERE PIN='0001693486' ORDER BY CHECKTIME DESC;
--SJH
SELECT * FROM CHECKINOUT WHERE PIN='0007664687' ORDER BY CHECKTIME DESC;


INSERT INTO zktime8.dbo.CHECKINOUT(CHECKTIME,CHECKTYPE,VERIFYCODE,SN_NAME,PIN) VALUES('2015-12-31 17:31:21',255,2,1911300460207,'0006320835')
INSERT INTO zktime8.dbo.CHECKINOUT(CHECKTIME,CHECKTYPE,VERIFYCODE,SN_NAME,PIN) VALUES('2015-12-31 17:31:21',255,2,1911300460207,'0006320835')
INSERT INTO zktime8.dbo.CHECKINOUT(CHECKTIME,CHECKTYPE,VERIFYCODE,SN_NAME,PIN) VALUES('2015-12-31 17:31:21',255,2,1911300460207,'0006320835')
INSERT INTO zktime8.dbo.CHECKINOUT(CHECKTIME,CHECKTYPE,VERIFYCODE,SN_NAME,PIN) VALUES('2015-12-31 17:31:21',255,2,1911300460207,'0006320835')

------------------------
DELETE zktime8.dbo.CHECKINOUT 
WHERE PIN='0006320835' AND CONVERT(varchar(100),CHECKTIME,112)=CONVERT(varchar(100), GETDATE(), 112);
INSERT INTO zktime8.dbo.CHECKINOUT(CHECKTIME,CHECKTYPE,VERIFYCODE,SN_NAME,PIN) 
VALUES(DATEADD(second,ABS(CHECKSUM(NEWID())) % DATEDIFF(second,'08:00','08:25'),CONVERT(char(8),getdate(),112) + ' 08:00'),255,2,1911300460207,'0006320835');
INSERT INTO zktime8.dbo.CHECKINOUT(CHECKTIME,CHECKTYPE,VERIFYCODE,SN_NAME,PIN) 
VALUES(DATEADD(second,ABS(CHECKSUM(NEWID())) % DATEDIFF(second,'12:00','12:10'),CONVERT(char(8),getdate(),112) + ' 12:00'),255,2,1911300460207,'0006320835');
INSERT INTO zktime8.dbo.CHECKINOUT(CHECKTIME,CHECKTYPE,VERIFYCODE,SN_NAME,PIN) 
VALUES(DATEADD(second,ABS(CHECKSUM(NEWID())) % DATEDIFF(second,'12:30','12:40'),CONVERT(char(8),getdate(),112) + ' 12:30'),255,2,1911300460207,'0006320835');
INSERT INTO zktime8.dbo.CHECKINOUT(CHECKTIME,CHECKTYPE,VERIFYCODE,SN_NAME,PIN) 
VALUES(DATEADD(second,ABS(CHECKSUM(NEWID())) % DATEDIFF(second,'17:30','18:00'),CONVERT(char(8),getdate(),112) + ' 17:30'),255,2,1911300460207,'0006320835');


SELECT 
DATEADD(second,ABS(CHECKSUM(NEWID())) % DATEDIFF(second,'08:00','08:30'),CONVERT(char(8),getdate(),112) + ' 08:00'),
DATEADD(second,ABS(CHECKSUM(NEWID())) % DATEDIFF(second,'12:00','12:10'),CONVERT(char(8),getdate(),112) + ' 12:00'),
DATEADD(second,ABS(CHECKSUM(NEWID())) % DATEDIFF(second,'12:30','12:40'),CONVERT(char(8),getdate(),112) + ' 12:30'),
DATEADD(second,ABS(CHECKSUM(NEWID())) % DATEDIFF(second,'17:30','18:00'),CONVERT(char(8),getdate(),112) + ' 17:30')
