SELECT * 
FROM RAINY_POSITION_ROLE
WHERE ROLE_ID IN (147,151)
AND POSITION_ID IN (8,9,10,11,12,122,123,124,125);

DELETE RAINY_POSITION_ROLE
WHERE ROLE_ID IN (147,151)
AND POSITION_ID IN (8,9,10,11,12,122,123,124,125);

--移除原职位权限
--查询出来的语句在sys用户下执行
SELECT 'revoke ' || rr.role_ext || ' from ' || ru.user_id || ';'
  FROM rainy_role          rr ,
       rainy_user          ru ,
       rainy_user_position rup ,
       rainy_position_role rpr 
 WHERE rr.appl = 'RMS'
   AND rup.user_id = ru.user_id
   AND rup.position_id = rpr.position_id
   AND rpr.role_id = rr.role_id
   AND RPR.ROLE_ID IN (147,151)
   AND RPR.POSITION_ID IN (8,9,10,11,12,122,123,124,125);
   
--添加新职位权限
--RMS系统权限
--查询出来的数据用sys用户名执行
SELECT 'grant ' || rr.role_ext || ' to ' || ru.user_id || ';'
  FROM rainy_role          rr  ,
       rainy_user          ru  ,
       rainy_user_position rup ,
       rainy_position_role rpr 
 WHERE rr.appl = 'RMS'
   AND rup.user_id = ru.user_id
   AND rup.position_id = rpr.position_id
   AND rpr.role_id = rr.role_id
   AND RPR.ROLE_ID IN (147,151)
   AND RPR.POSITION_ID IN (8,9,10,11,12,122,123,124,125);


